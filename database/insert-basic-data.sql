-- =====================================================
-- INSERÇÃO DE DADOS BÁSICOS PARA TESTE
-- =====================================================

-- Limpar dados existentes
TRUNCATE TABLE acls, users_areas, users_organizations, users, profiles, system_actions, profile_system_actions CASCADE;

-- Inserir perfis
INSERT INTO profiles (id, name, description) VALUES
('11111111-1111-1111-1111-111111111111', 'Owner', 'Proprietário da organização'),
('22222222-2222-2222-2222-222222222222', 'Manager', 'Gerente de área'),
('33333333-3333-3333-3333-333333333333', 'User', 'Usuário comum');

-- Inserir ações do sistema
INSERT INTO system_actions (id, name, description) VALUES
('11111111-1111-1111-1111-111111111111', 'read', 'Leitura'),
('22222222-2222-2222-2222-222222222222', 'write', 'Escrita'),
('33333333-3333-3333-3333-333333333333', 'approve', 'Aprovação'),
('44444444-4444-4444-4444-444444444444', 'share', 'Compartilhamento'),
('55555555-5555-5555-5555-555555555555', 'delete', 'Exclusão');

-- Associar ações aos perfis
INSERT INTO profile_system_actions (profile_id, system_action_id) VALUES
-- Owner tem todas as ações
('11111111-1111-1111-1111-111111111111', '11111111-1111-1111-1111-111111111111'),
('11111111-1111-1111-1111-111111111111', '22222222-2222-2222-2222-222222222222'),
('11111111-1111-1111-1111-111111111111', '33333333-3333-3333-3333-333333333333'),
('11111111-1111-1111-1111-111111111111', '44444444-4444-4444-4444-444444444444'),
('11111111-1111-1111-1111-111111111111', '55555555-5555-5555-5555-555555555555'),
-- Manager tem read, write, approve
('22222222-2222-2222-2222-222222222222', '11111111-1111-1111-1111-111111111111'),
('22222222-2222-2222-2222-222222222222', '22222222-2222-2222-2222-222222222222'),
('22222222-2222-2222-2222-222222222222', '33333333-3333-3333-3333-333333333333'),
-- User tem read, write
('33333333-3333-3333-3333-333333333333', '11111111-1111-1111-1111-111111111111'),
('33333333-3333-3333-3333-333333333333', '22222222-2222-2222-2222-222222222222');

-- Inserir usuários
INSERT INTO users (id, organization_id, name, email) VALUES
-- TechCorp
('11111111-1111-1111-1111-111111111111', '11111111-1111-1111-1111-111111111111', 'Admin TechCorp', 'admin@techcorp.com'),
('11111111-1111-1111-1111-111111111112', '11111111-1111-1111-1111-111111111111', 'Manager TI TechCorp', 'ti.manager@techcorp.com'),
('11111111-1111-1111-1111-111111111113', '11111111-1111-1111-1111-111111111111', 'User TI TechCorp', 'ti.user@techcorp.com'),
-- GlobalCorp
('22222222-2222-2222-2222-222222222221', '22222222-2222-2222-2222-222222222222', 'Admin GlobalCorp', 'admin@globalcorp.com'),
('22222222-2222-2222-2222-222222222222', '22222222-2222-2222-2222-222222222222', 'Manager RH GlobalCorp', 'rh.manager@globalcorp.com'),
('22222222-2222-2222-2222-222222222223', '22222222-2222-2222-2222-222222222222', 'User RH GlobalCorp', 'rh.user@globalcorp.com'),
-- StartupXYZ
('33333333-3333-3333-3333-333333333331', '33333333-3333-3333-3333-333333333333', 'Admin StartupXYZ', 'admin@startupxyz.com'),
('33333333-3333-3333-3333-333333333332', '33333333-3333-3333-3333-333333333333', 'Manager Financeiro StartupXYZ', 'finance.manager@startupxyz.com'),
('33333333-3333-3333-3333-333333333333', '33333333-3333-3333-3333-333333333333', 'User Financeiro StartupXYZ', 'finance.user@startupxyz.com');

-- Associar usuários às organizações
INSERT INTO users_organizations (user_id, organization_id, profile_id) VALUES
-- TechCorp
('11111111-1111-1111-1111-111111111111', '11111111-1111-1111-1111-111111111111', '11111111-1111-1111-1111-111111111111'), -- Owner
('11111111-1111-1111-1111-111111111112', '11111111-1111-1111-1111-111111111111', '22222222-2222-2222-2222-222222222222'), -- Manager
('11111111-1111-1111-1111-111111111113', '11111111-1111-1111-1111-111111111111', '33333333-3333-3333-3333-333333333333'), -- User
-- GlobalCorp
('22222222-2222-2222-2222-222222222221', '22222222-2222-2222-2222-222222222222', '11111111-1111-1111-1111-111111111111'), -- Owner
('22222222-2222-2222-2222-222222222222', '22222222-2222-2222-2222-222222222222', '22222222-2222-2222-2222-222222222222'), -- Manager
('22222222-2222-2222-2222-222222222223', '22222222-2222-2222-2222-222222222222', '33333333-3333-3333-3333-333333333333'), -- User
-- StartupXYZ
('33333333-3333-3333-3333-333333333331', '33333333-3333-3333-3333-333333333333', '11111111-1111-1111-1111-111111111111'), -- Owner
('33333333-3333-3333-3333-333333333332', '33333333-3333-3333-3333-333333333333', '22222222-2222-2222-2222-222222222222'), -- Manager
('33333333-3333-3333-3333-333333333333', '33333333-3333-3333-3333-333333333333', '33333333-3333-3333-3333-333333333333'); -- User

-- Associar usuários às áreas
INSERT INTO users_areas (user_id, area_id, profile_id) VALUES
-- TechCorp - TI
('11111111-1111-1111-1111-111111111111', 'a1111111-1111-1111-1111-111111111111', '11111111-1111-1111-1111-111111111111'), -- Owner
('11111111-1111-1111-1111-111111111112', 'a1111111-1111-1111-1111-111111111111', '22222222-2222-2222-2222-222222222222'), -- Manager
('11111111-1111-1111-1111-111111111113', 'a1111111-1111-1111-1111-111111111111', '33333333-3333-3333-3333-333333333333'), -- User
-- GlobalCorp - RH
('22222222-2222-2222-2222-222222222221', 'a2222222-2222-2222-2222-222222222221', '11111111-1111-1111-1111-111111111111'), -- Owner
('22222222-2222-2222-2222-222222222222', 'a2222222-2222-2222-2222-222222222221', '22222222-2222-2222-2222-222222222222'), -- Manager
('22222222-2222-2222-2222-222222222223', 'a2222222-2222-2222-2222-222222222221', '33333333-3333-3333-3333-333333333333'), -- User
-- StartupXYZ - Financeiro
('33333333-3333-3333-3333-333333333331', 'a3333333-3333-3333-3333-333333333331', '11111111-1111-1111-1111-111111111111'), -- Owner
('33333333-3333-3333-3333-333333333332', 'a3333333-3333-3333-3333-333333333331', '22222222-2222-2222-2222-222222222222'), -- Manager
('33333333-3333-3333-3333-333333333333', 'a3333333-3333-3333-3333-333333333331', '33333333-3333-3333-3333-333333333333'); -- User

-- Inserir ACLs básicas
INSERT INTO acls (subject_id, object_type, object_id, perms) VALUES
-- Owners têm acesso total às suas organizações
('11111111-1111-1111-1111-111111111111', 'organization', '11111111-1111-1111-1111-111111111111', 31), -- TechCorp Owner
('22222222-2222-2222-2222-222222222221', 'organization', '22222222-2222-2222-2222-222222222222', 31), -- GlobalCorp Owner
('33333333-3333-3333-3333-333333333331', 'organization', '33333333-3333-3333-3333-333333333333', 31), -- StartupXYZ Owner

-- Managers têm acesso às suas áreas
('11111111-1111-1111-1111-111111111112', 'area', 'a1111111-1111-1111-1111-111111111111', 7), -- TechCorp TI Manager (READ+WRITE+APPROVE)
('22222222-2222-2222-2222-222222222222', 'area', 'a2222222-2222-2222-2222-222222222221', 7), -- GlobalCorp RH Manager
('33333333-3333-3333-3333-333333333332', 'area', 'a3333333-3333-3333-3333-333333333331', 7), -- StartupXYZ Finance Manager

-- Users têm acesso básico às suas áreas
('11111111-1111-1111-1111-111111111113', 'area', 'a1111111-1111-1111-1111-111111111111', 3), -- TechCorp TI User (READ+WRITE)
('22222222-2222-2222-2222-222222222223', 'area', 'a2222222-2222-2222-2222-222222222221', 3), -- GlobalCorp RH User
('33333333-3333-3333-3333-333333333333', 'area', 'a3333333-3333-3333-3333-333333333331', 3); -- StartupXYZ Finance User

-- Verificar inserção
SELECT 'Organizacoes: ' || COUNT(*) as orgs FROM organizations
UNION ALL
SELECT 'Areas: ' || COUNT(*) as areas FROM areas
UNION ALL
SELECT 'Usuarios: ' || COUNT(*) as users FROM users
UNION ALL
SELECT 'ACLs: ' || COUNT(*) as acls FROM acls;
